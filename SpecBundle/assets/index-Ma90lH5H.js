import{k as c,l as u,m as e,F as S,r as w,p as m,c as C,q as D,u as P,v as A,x as q,y as O,z as B,w as W,o as H,A as E,B as R}from"./vue-vendor-BiFzoH3S.js";import{u as U,s as V,i as G,a as K,b as J,c as Z,d as Q,e as X,f as Y,g as ee}from"./echarts-vendor-CmbFP-ng.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&a(b)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();const te=""+new URL("../spec_bundle_logo.jpg",import.meta.url).href,F=(d,i)=>{const s=d.__vccOpts||d;for(const[a,o]of i)s[a]=o;return s},ae={class:"filter-controls"},se={class:"filter-grid"},le={class:"filter-item"},re={class:"select-wrapper"},oe=["value"],ne=["value"],ie={class:"filter-item"},de={class:"select-wrapper"},ce=["value"],ue=["value"],fe={class:"filter-item"},pe={class:"select-wrapper"},he=["value"],ve=["value"],ge={class:"filter-item"},me={class:"select-wrapper"},be=["value"],ye=["value"],Me={__name:"FilterControls",props:{targetModels:{type:Array,required:!0},selectedTargetModel:{type:String,default:"all"},draftModels:{type:Array,default:()=>[]},selectedDraftModel:{type:String,default:"all"},benchmarks:{type:Array,required:!0},selectedBenchmark:{type:String,required:!0},metrics:{type:Array,required:!0},selectedMetric:{type:String,required:!0}},emits:["update:targetModel","update:draftModel","update:benchmark","update:metric"],setup(d){return(i,s)=>(u(),c("div",ae,[e("div",se,[e("div",le,[s[6]||(s[6]=e("label",{for:"targetModel"},"Target Model",-1)),e("div",re,[e("select",{id:"targetModel",value:d.selectedTargetModel,onChange:s[0]||(s[0]=a=>i.$emit("update:targetModel",a.target.value))},[s[4]||(s[4]=e("option",{value:"all"},"All Models",-1)),(u(!0),c(S,null,w(d.targetModels,a=>(u(),c("option",{key:a,value:a},m(a),9,ne))),128))],40,oe),s[5]||(s[5]=e("div",{class:"select-arrow"},[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"6 9 12 15 18 9"})])],-1))])]),e("div",ie,[s[9]||(s[9]=e("label",{for:"draftModel"},"Draft Model",-1)),e("div",de,[e("select",{id:"draftModel",value:d.selectedDraftModel,onChange:s[1]||(s[1]=a=>i.$emit("update:draftModel",a.target.value))},[s[7]||(s[7]=e("option",{value:"all"},"All Draft Models",-1)),(u(!0),c(S,null,w(d.draftModels,a=>(u(),c("option",{key:a,value:a},m(a==="None"?"Baseline (No Draft)":a),9,ue))),128))],40,ce),s[8]||(s[8]=e("div",{class:"select-arrow"},[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"6 9 12 15 18 9"})])],-1))])]),e("div",fe,[s[12]||(s[12]=e("label",{for:"benchmark"},"Benchmark",-1)),e("div",pe,[e("select",{id:"benchmark",value:d.selectedBenchmark,onChange:s[2]||(s[2]=a=>i.$emit("update:benchmark",a.target.value))},[s[10]||(s[10]=e("option",{value:"all"},"All Benchmarks",-1)),(u(!0),c(S,null,w(d.benchmarks,a=>(u(),c("option",{key:a,value:a},m(a),9,ve))),128))],40,he),s[11]||(s[11]=e("div",{class:"select-arrow"},[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"6 9 12 15 18 9"})])],-1))])]),e("div",ge,[s[14]||(s[14]=e("label",{for:"metric"},"Metric",-1)),e("div",me,[e("select",{id:"metric",value:d.selectedMetric,onChange:s[3]||(s[3]=a=>i.$emit("update:metric",a.target.value))},[(u(!0),c(S,null,w(d.metrics,a=>(u(),c("option",{key:a.value,value:a.value},m(a.label),9,ye))),128))],40,be),s[13]||(s[13]=e("div",{class:"select-arrow"},[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"6 9 12 15 18 9"})])],-1))])])])]))}},ke=F(Me,[["__scopeId","data-v-91e1d201"]]),_e={class:"chart-wrapper"},$e={__name:"BenchmarkChart",props:{data:{type:Array,required:!0},benchmark:{type:String,default:"MTBench"},metric:{type:String,default:"throughput"}},setup(d){U([G,K,J,Z,Q,X,Y,ee]);const i=d,s=C(()=>{const a=i.benchmark==="all",o=a?["gsm8k","math500","mtbench","humaneval","livecodebench","financeqa","gpqa"]:[i.benchmark],f=i.metric==="accLen"?"accLen":"throughput",b=i.metric==="accLen"?"Acceptance Length":"Throughput (tokens/s)",y=i.metric==="speedup",M=i.data.filter(n=>o.some(p=>n.metrics[p]&&n.metrics[p][f]!=null)),_=[...new Set(M.map(n=>n.parallelConfig).filter(n=>n&&n!=="-"&&n!==null))],k=_.length>0?` (${_.join(", ")})`:"",l=[];let r=[];const t=n=>{const p=n?n.toLowerCase():"";return p.includes("specbundle")?{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#4f46e5"},{offset:1,color:"#4338ca"}]}:p.includes("eagle")?"#10b981":p==="-"||p==="none"||p.includes("baseline")?"#94a3b8":"#f59e0b"},v=n=>{if(n.draftModel==="-"||n.draftModel==="None"||n.draftModel.toLowerCase().includes("baseline"))return"Baseline (No Draft Model)";const h=n.draftModel.split("/").pop(),x=n.config==="0-0-0"||!n.config||n.config==="-"?"":n.config;return x?`${h}
(${x})`:h};if(a){r=o;const n=["#06b6d4","#8b5cf6","#ec4899","#f59e0b","#14b8a6","#f43f5e","#3b82f6","#84cc16"];let p=0;M.forEach(h=>{const x=v(h).replace(/\n/g," "),N=h.draftModel?h.draftModel.toLowerCase():"",j=N==="-"||N==="none"||N.includes("baseline");let T;N.includes("specbundle")?T={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#4f46e5"},{offset:1,color:"#4338ca"}]}:j?T="#94a3b8":(T=n[p%n.length],p++);const I=o.map(L=>{const $=h.metrics[L]?.[f];if($==null)return 0;if(y){const z=h.baseline&&h.baseline[L]?h.baseline[L][f]:null;return z?parseFloat(($/z).toFixed(2)):0}return typeof $=="number"?parseFloat($.toFixed(2)):$});l.push({name:x,type:"bar",data:I,itemStyle:{borderRadius:[4,4,0,0],color:T},label:{show:!0,position:"top",fontSize:9,formatter:L=>{const $=L.value;return typeof $=="number"?$.toFixed(2):$},distance:2}})})}else{r=M.map(v);const n=M.map(p=>{const h=p.metrics[o[0]][f];if(y){const x=p.baseline&&p.baseline[o[0]]?p.baseline[o[0]][f]:null;return x?parseFloat((h/x).toFixed(2)):0}return typeof h=="number"?parseFloat(h.toFixed(2)):h});l.push({name:y?"Speedup":b,type:"bar",data:n,barMaxWidth:60,itemStyle:{borderRadius:[6,6,0,0],color:function(p){const h=p.dataIndex;return t(M[h].draftModel)}},label:{show:r.length<=15,position:"top",formatter:p=>{const h=p.value;return typeof h=="number"?h.toFixed(2):h},fontSize:10,color:"#64748b"}})}const g=a?`Hardware: H200 ${k} | Metric: Throughput (tokens/s)`:`${o[0]} Performance`;return{textStyle:{fontFamily:"Inter, sans-serif"},title:{text:g,left:"left",textStyle:{fontSize:16,fontWeight:600,color:"#1e293b"}},tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e2e8f0",textStyle:{color:"#334155",fontSize:12},axisPointer:{type:"shadow"}},legend:{show:a,bottom:0,left:"center",width:"90%",itemGap:15,textStyle:{fontSize:11},data:a?l.map(n=>n.name):[]},grid:{left:0,right:10,bottom:100,top:60,containLabel:!0},xAxis:{type:"category",data:r,axisLine:{lineStyle:{color:"#e2e8f0"}},axisTick:{show:!1},axisLabel:{interval:0,rotate:a?0:30,fontSize:10,color:"#64748b"}},yAxis:{type:"value",name:y?"x Baseline":"",nameTextStyle:{align:"right",color:"#94a3b8"},splitLine:{lineStyle:{type:"dashed",color:"#f1f5f9"}},axisLabel:{color:"#64748b",fontSize:11}},dataZoom:[{type:"slider",show:!a&&r.length>8,start:0,end:a?100:Math.min(100,8/r.length*100),bottom:0,height:16,borderColor:"transparent",backgroundColor:"#f8fafc",fillerColor:"rgba(79, 70, 229, 0.1)",handleSize:"100%",handleStyle:{color:"#818cf8"}},{type:"inside",start:0,end:100,zoomOnMouseWheel:!1,moveOnMouseMove:!0,moveOnMouseWheel:!0}],series:l}});return(a,o)=>(u(),c("div",_e,[D(P(V),{option:s.value,autoresize:!0,style:{height:"100%",width:"100%"}},null,8,["option"])]))}},xe=F($e,[["__scopeId","data-v-787bd368"]]),Se={class:"table-container"},we={class:"table-scroll"},Be={key:0},Ce={class:"th-content"},Le={key:1},Ae={class:"model-name sticky-col"},De={class:"draft-model-cell"},Ne={class:"config-cell"},Te={key:0,class:"hardware-cell"},Fe={key:0,class:"metric-content"},Oe={class:"metric-pair"},ze={class:"val-acc"},qe={class:"val-thru"},Ee={key:0,class:"speedup-indicator"},je={key:1,class:"no-data"},Ie={key:1,class:"avg-speedup"},Pe={class:"speedup-tag primary"},We={__name:"BenchmarkTable",props:{data:{type:Array,required:!0},benchmarks:{type:Array,required:!0},selectedBenchmark:{type:String,default:"all"},highlightMetric:{type:String,default:"throughput"}},setup(d){const i=d,s=C(()=>i.selectedBenchmark==="all"?i.benchmarks:[i.selectedBenchmark]),a=C(()=>i.data.some(l=>l.hardware&&l.hardware!=="-"));function o(l){return l?l==="-"||l==="None"?"Baseline":l.includes("SpecBundle")?"SpecBundle":l.split("/").pop()||l:"-"}function f(l){return!l||l==="-"||l==="None"?"badge-baseline":l.includes("SpecBundle")?"badge-spec":l.toLowerCase().includes("eagle")?"badge-eagle":"badge-default"}function b(l){return l==null?"-":typeof l=="number"?l.toFixed(2):l}function y(l,r){return!l||!r||r===0?"-":(l/r).toFixed(2)}function M(l,r){if(!l||!r)return"";const t=l/r;return t>=2?"excellent":t>=1.5?"good":t>=1.1?"moderate":"neutral"}function _(l){let r=0,t=0;return l.baseline?(i.benchmarks.forEach(v=>{const g=l.metrics[v]?.throughput,n=l.baseline[v]?.throughput;g&&n&&n>0&&(r+=g/n,t++)}),t>0?(r/t).toFixed(2):"-"):"-"}function k(l,r){return!1}return(l,r)=>(u(),c("div",Se,[e("div",we,[e("table",null,[e("thead",null,[e("tr",null,[r[1]||(r[1]=e("th",{class:"sticky-col"},"Target Model",-1)),r[2]||(r[2]=e("th",null,"Draft Model",-1)),r[3]||(r[3]=e("th",null,"Config",-1)),a.value?(u(),c("th",Be,"Hardware")):A("",!0),(u(!0),c(S,null,w(s.value,t=>(u(),c("th",{key:t,class:"metric-header"},[e("div",Ce,[q(m(t)+" ",1),r[0]||(r[0]=e("span",{class:"th-subtitle"},"Acc Len / Tokens/s",-1))])]))),128)),d.highlightMetric==="speedup"?(u(),c("th",Le,"Avg Speedup")):A("",!0)])]),e("tbody",null,[(u(!0),c(S,null,w(d.data,(t,v)=>(u(),c("tr",{key:v},[e("td",Ae,[q(m(t.targetModel)+" ",1),r[4]||(r[4]=e("div",{class:"mobile-label"},"Target",-1))]),e("td",De,[e("span",{class:O(["component-badge",f(t.draftModel)])},m(o(t.draftModel)),3)]),e("td",Ne,m(t.config),1),a.value?(u(),c("td",Te,m(t.hardware),1)):A("",!0),(u(!0),c(S,null,w(s.value,g=>(u(),c("td",{key:g,class:O(["metric-cell-wrapper",{"highlight-bg":k()}])},[t.metrics[g]?(u(),c("div",Fe,[e("div",Oe,[e("span",ze,m(b(t.metrics[g].accLen)),1),r[5]||(r[5]=e("span",{class:"separator"},"/",-1)),e("span",qe,m(b(t.metrics[g].throughput)),1)]),t.baseline&&t.baseline[g]?(u(),c("div",Ee,[e("span",{class:O(["speedup-tag",M(t.metrics[g].throughput,t.baseline[g].throughput)])},m(y(t.metrics[g].throughput,t.baseline[g].throughput))+"x ",3)])):A("",!0)])):(u(),c("div",je,"-"))],2))),128)),d.highlightMetric==="speedup"?(u(),c("td",Ie,[e("span",Pe,m(_(t))+"x ",1)])):A("",!0)]))),128))])])])]))}},He=F(We,[["__scopeId","data-v-b070a3b9"]]);async function Re(){try{return await(await fetch("./raw_data/data.json")).json()}catch(d){return console.error("Error loading JSON data:",d),{}}}function Ue(d,i){if(!d||!i)return[];const s=new Map;return Object.entries(d).forEach(([,a])=>{const o=a.benchmark_name;(a.results||[]).forEach(b=>{const{batch_size:y,steps:M,topk:_,num_draft_tokens:k,metrics:l}=b,r=l.find(t=>t.Name==="Wihtout EAGLE3");l.forEach(t=>{const v=t.Name==="Wihtout EAGLE3",g=v?"baseline":`${y}-${M}-${_}-${k}`,n=v?"None":t.Name,p=`${n}|${g}`;s.has(p)||s.set(p,{targetModel:i,draftModel:n,config:g,batch_size:y,steps:M,topk:_,num_draft_tokens:k,metrics:{},baseline:{}});const h=s.get(p);h.metrics[o]={throughput:t.output_throughput,accLen:t.accept_length},r&&(h.baseline[o]={throughput:r.output_throughput,accLen:r.accept_length})})})}),Array.from(s.values())}function Ve(d){return Object.keys(d)}const Ge={class:"benchmark-app"},Ke={class:"main-container"},Je={class:"dashboard-controls"},Ze={key:0,class:"state-container"},Qe={key:1,class:"content-wrapper"},Xe={class:"stats-overview"},Ye={class:"stat-card"},et={class:"stat-value"},tt={class:"stat-card"},at={class:"stat-value"},st={class:"stat-card"},lt={class:"stat-value"},rt={class:"chart-section"},ot={class:"chart-container"},nt={class:"table-section"},it={key:2,class:"state-container empty"},dt={__name:"BenchmarkDashboard",setup(d){const i=B(!0),s=B({}),a=B("all"),o=B("all"),f=B("all"),b=B("throughput"),y=["gsm8k","math500","mtbench","humaneval","livecodebench","financeqa","gpqa"],M=[{value:"throughput",label:"Throughput (tokens/s)"},{value:"accLen",label:"Acceptance Length"},{value:"speedup",label:"Speedup vs Baseline"}],_=C(()=>Ve(s.value)),k=C(()=>{const r=s.value[a.value]||[];return[...new Set(r.map(t=>t.draftModel).filter(Boolean))]}),l=C(()=>{const r=s.value[a.value]||[];return o.value&&o.value!=="all"?r.filter(t=>t.draftModel===o.value):r});return W(a,r=>{r==="all"?o.value="all":k.value.includes(o.value)||(o.value="all")}),H(async()=>{try{const r=await Re();for(const[v,g]of Object.entries(r))s.value[v]=Ue(g,v);const t=Object.keys(s.value);t.length>0&&!t.includes(a.value)&&(a.value=t[0]),i.value=!1}catch(r){console.error("Error loading data:",r),i.value=!1}}),(r,t)=>(u(),c("div",Ge,[e("div",Ke,[t[12]||(t[12]=E('<header class="header" data-v-9f5fa8c4><div class="header-content" data-v-9f5fa8c4><div class="brand" data-v-9f5fa8c4><img src="'+te+'" alt="SpecBundle Logo" class="main-logo" data-v-9f5fa8c4><div class="powered-by" data-v-9f5fa8c4> All SpecBundle models are powered by <span class="powered-by-brand" data-v-9f5fa8c4>SpecForge</span></div></div></div></header>',1)),e("div",Je,[D(ke,{targetModels:_.value,selectedTargetModel:a.value,draftModels:k.value,selectedDraftModel:o.value,benchmarks:y,selectedBenchmark:f.value,metrics:M,selectedMetric:b.value,"onUpdate:targetModel":t[0]||(t[0]=v=>a.value=v),"onUpdate:draftModel":t[1]||(t[1]=v=>o.value=v),"onUpdate:benchmark":t[2]||(t[2]=v=>f.value=v),"onUpdate:metric":t[3]||(t[3]=v=>b.value=v)},null,8,["targetModels","selectedTargetModel","draftModels","selectedDraftModel","selectedBenchmark","selectedMetric"])]),i.value?(u(),c("div",Ze,[...t[4]||(t[4]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading benchmark data...",-1)])])):l.value.length>0?(u(),c("div",Qe,[e("div",Xe,[e("div",Ye,[t[5]||(t[5]=e("span",{class:"stat-label"},"Target Model",-1)),e("span",et,m(a.value==="all"?"All":a.value),1)]),e("div",tt,[t[6]||(t[6]=e("span",{class:"stat-label"},"Draft Models",-1)),e("span",at,m(k.value.length),1)]),e("div",st,[t[7]||(t[7]=e("span",{class:"stat-label"},"Configurations",-1)),e("span",lt,m(l.value.length),1)])]),e("div",rt,[t[8]||(t[8]=e("h3",null,"Performance Visualization",-1)),e("div",ot,[D(xe,{data:l.value,benchmark:f.value,metric:b.value},null,8,["data","benchmark","metric"])]),t[9]||(t[9]=e("div",{class:"config-legend"},"Config (batch_size - step - topk - nums_draft_tokens)",-1))]),e("div",nt,[t[10]||(t[10]=e("div",{class:"section-header"},[e("h3",null,"Detailed Results"),e("div",{class:"export-actions"})],-1)),D(He,{data:l.value,benchmarks:y,selectedBenchmark:f.value,highlightMetric:b.value},null,8,["data","selectedBenchmark","highlightMetric"])])])):(u(),c("div",it,[t[11]||(t[11]=E('<div class="empty-icon" data-v-9f5fa8c4><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-9f5fa8c4><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-9f5fa8c4></path><polyline points="14 2 14 8 20 8" data-v-9f5fa8c4></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-9f5fa8c4></line><line x1="16" y1="17" x2="8" y2="17" data-v-9f5fa8c4></line><polyline points="10 9 9 9 8 9" data-v-9f5fa8c4></polyline></svg></div><h3 data-v-9f5fa8c4>No Data Available</h3>',2)),e("p",null,"No benchmark data found for "+m(a.value==="all"?"selected models":a.value),1)]))]),t[13]||(t[13]=e("footer",{class:"footer"},[e("p",null,"Powered by SpecForge Team")],-1))]))}},ct=F(dt,[["__scopeId","data-v-9f5fa8c4"]]),ut={id:"app"},ft={__name:"App",setup(d){return(i,s)=>(u(),c("div",ut,[D(ct)]))}};R(ft).mount("#app");
